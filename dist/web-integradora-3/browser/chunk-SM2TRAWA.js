import{a as O}from"./chunk-7EVAXP5Y.js";import{a as D}from"./chunk-GUIL43MT.js";import{a as G}from"./chunk-4DSLLFDV.js";import"./chunk-FEMZR6YW.js";import{a as F,b as d,c as I,d as w,e as T,f as v,g as k,j as q,k as M,l as N,m as H,n as j,p as L,r as R}from"./chunk-FA5XPTQ2.js";import"./chunk-JRUOX2RA.js";import{j as S}from"./chunk-SD2P4HH3.js";import{Bb as g,Jb as m,Kb as x,Rb as h,Ta as n,Ua as f,ga as b,hb as c,jb as a,mc as C,nc as y,pc as E,rb as i,sb as t,tb as u,zb as _}from"./chunk-XQ3MI7UQ.js";function V(e,o){if(e&1&&(i(0,"option",16),m(1),t()),e&2){let r=o.$implicit;a("value",r.id),n(),x(r.nombre)}}function B(e,o){e&1&&(i(0,"p",18),m(1,"El beb\xE9 es requerido"),t())}function A(e,o){if(e&1&&(i(0,"div"),c(1,B,2,0,"p",17),t()),e&2){let r=g();n(),a("ngIf",r.Form.controls.id_bebe.errors.required)}}function $(e,o){e&1&&(i(0,"p",18),m(1,"El diagn\xF3stico es requerido"),t())}function z(e,o){e&1&&(i(0,"p",18),m(1,"El diagn\xF3stico debe contener al menos 3 caracteres"),t())}function J(e,o){e&1&&(i(0,"p",18),m(1,"El diagn\xF3stico debe contener maximo 255 caracteres"),t())}function K(e,o){if(e&1&&(i(0,"div"),c(1,$,2,0,"p",17)(2,z,2,0,"p",17)(3,J,2,0,"p",17),t()),e&2){let r=g();n(),a("ngIf",r.Form.controls.diagnostico.errors.required),n(),a("ngIf",r.Form.controls.diagnostico.errors.minlength),n(),a("ngIf",r.Form.controls.diagnostico.errors.maxlength)}}function P(e,o){e&1&&(i(0,"p",18),m(1,"El medicamento es requerido"),t())}function Q(e,o){e&1&&(i(0,"p",18),m(1,"El medicamento debe contener al menos 3 caracteres"),t())}function U(e,o){e&1&&(i(0,"p",18),m(1,"El medicamento debe contener maximo 255 caracteres"),t())}function W(e,o){if(e&1&&(i(0,"div"),c(1,P,2,0,"p",17)(2,Q,2,0,"p",17)(3,U,2,0,"p",17),t()),e&2){let r=g();n(),a("ngIf",r.Form.controls.medicamentos.errors.required),n(),a("ngIf",r.Form.controls.medicamentos.errors.minlength),n(),a("ngIf",r.Form.controls.medicamentos.errors.maxlength)}}function X(e,o){if(e&1&&(i(0,"div")(1,"p",19),m(2),t()()),e&2){let r=g();n(2),x(r.succesMessages.message)}}function Y(e,o){if(e&1&&(i(0,"div")(1,"p",18),m(2),t()()),e&2){let r=g();n(2),x(r.backendErrors.message)}}var le=(()=>{let o=class o{constructor(l,p,s){this.historialService=l,this.router=p,this.bebeService=s,this.backendErrors={},this.bebes=[],this.succesMessages={},this.Form=new T({id_bebe:new v("",[d.required]),diagnostico:new v("",[d.required,d.minLength(3),d.maxLength(255)]),medicamentos:new v("",[d.required,d.minLength(3),d.maxLength(100)])})}ngAfterContentInit(){this.bebeService.getBebesSnHistorial().subscribe({next:l=>{console.log(l),this.bebes=l.Bebes},error:l=>{console.log(l)}})}createHistorial(){this.historialService.createHistorial(this.Form.value).subscribe({next:l=>{console.log(l),this.succesMessages.message="Historial creado con \xE9xito",this.backendErrors.message="",setTimeout(()=>{this.router.navigate(["/historial"])},2e3)},error:l=>{console.log(l),this.backendErrors.message="Error para crear el historial, intente mas tarde",this.succesMessages.message=""}})}};o.\u0275fac=function(p){return new(p||o)(f(O),f(S),f(G))},o.\u0275cmp=b({type:o,selectors:[["app-create"]],standalone:!0,features:[h],decls:32,vars:7,consts:[[1,"flex","mt-10","flex-col","justify-center"],[1,"sm:mx-auto","sm:w-1/2","sm:max-w-2xl"],["src","assets/logo.jpeg","alt","Logo",1,"mx-auto","h-32","w-auto"],[1,"mt-3","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-violet-950"],[1,"sm:mx-auto","sm:w-1/3","sm:max-w-2xl"],[1,"space-y-2",3,"formGroup"],["for","baby",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","id_bebe","name","baby","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","diagnosis",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","diagnostico","name","diagnosis","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","medication",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","medicamentos","name","diagnosis","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-fuchsia-500","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-cyan-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],[3,"value"],["class","text-red-500 font-medium text-sm",4,"ngIf"],[1,"text-red-500","font-medium","text-sm"],[1,"text-green-500","font-medium","text-sm"]],template:function(p,s){p&1&&(u(0,"app-toolbar"),i(1,"div",0)(2,"div",1),u(3,"img",2),i(4,"h2",3),m(5,"Registrar Historial M\xE9dico"),t()(),i(6,"div",4)(7,"form",5)(8,"div")(9,"label",6),m(10,"Beb\xE9"),t(),i(11,"div",7)(12,"select",8),c(13,V,2,2,"option",9),t()(),c(14,A,2,1,"div",10),t(),i(15,"div")(16,"label",11),m(17,"Diagn\xF3stico"),t(),i(18,"div",7),u(19,"textarea",12),t(),c(20,K,4,3,"div",10),t(),i(21,"div")(22,"label",13),m(23,"Medicamento Suministrado"),t(),i(24,"div",7),u(25,"textarea",14),t(),c(26,W,4,3,"div",10),t(),c(27,X,3,1,"div",10)(28,Y,3,1,"div",10),i(29,"div")(30,"button",15),_("click",function(){return s.createHistorial()}),m(31,"Registrar Historial"),t()()()()()),p&2&&(n(7),a("formGroup",s.Form),n(6),a("ngForOf",s.bebes),n(),a("ngIf",s.Form.controls.id_bebe.errors&&s.Form.controls.id_bebe.touched),n(6),a("ngIf",s.Form.controls.diagnostico.errors&&s.Form.controls.diagnostico.touched),n(6),a("ngIf",s.Form.controls.medicamentos.errors&&s.Form.controls.medicamentos.touched),n(),a("ngIf",s.succesMessages.message),n(),a("ngIf",s.backendErrors.message))},dependencies:[D,R,k,H,j,F,N,I,w,L,q,M,E,C,y]});let e=o;return e})();export{le as CreateComponent};
