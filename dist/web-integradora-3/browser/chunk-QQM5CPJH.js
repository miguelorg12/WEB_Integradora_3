import{a as H}from"./chunk-N7WXRUGI.js";import{a as M}from"./chunk-NHY6G2KS.js";import"./chunk-VZAEZB6E.js";import{a as F,b as s,c as I,d as k,e as T,f as x,g as w,i as U,j as q,o as L,q as N}from"./chunk-FJBITYPR.js";import"./chunk-67ANC6KW.js";import{h as C,j as S}from"./chunk-6X3NTM2I.js";import{Ab as u,Ib as a,Jb as _,Qb as h,Sa as r,Ta as g,ga as v,gb as d,ib as m,kc as E,lc as y,qb as n,rb as t,sb as f,yb as b}from"./chunk-QODOQ2ZI.js";function j(e,i){e&1&&(n(0,"p",16),a(1,"El nombre es requerido"),t())}function A(e,i){e&1&&(n(0,"p",16),a(1,"El nombre debe contener al menos 3 caracteres"),t())}function D(e,i){e&1&&(n(0,"p",16),a(1,"El nombre debe contener maximo 100 caracteres"),t())}function G(e,i){e&1&&(n(0,"p",16),a(1,"El nombre solo debe contener letras y espacios"),t())}function R(e,i){if(e&1&&(n(0,"div"),d(1,j,2,0,"p",15)(2,A,2,0,"p",15)(3,D,2,0,"p",15)(4,G,2,0,"p",15),t()),e&2){let l=u();r(),m("ngIf",l.createForm.controls.nombre.errors.required),r(),m("ngIf",l.createForm.controls.nombre.errors.minlength),r(),m("ngIf",l.createForm.controls.nombre.errors.maxlength),r(),m("ngIf",l.createForm.controls.nombre.errors.pattern)}}function V(e,i){e&1&&(n(0,"p",16),a(1,"La direccion es requerida"),t())}function z(e,i){e&1&&(n(0,"p",16),a(1,"La direccion debe contener al menos 3 caracteres"),t())}function $(e,i){e&1&&(n(0,"p",16),a(1,"La direccion debe contener maximo 100 caracteres"),t())}function Z(e,i){if(e&1&&(n(0,"div"),d(1,V,2,0,"p",15)(2,z,2,0,"p",15)(3,$,2,0,"p",15),t()),e&2){let l=u();r(),m("ngIf",l.createForm.controls.direccion.errors.required),r(),m("ngIf",l.createForm.controls.direccion.errors.minlength),r(),m("ngIf",l.createForm.controls.direccion.errors.maxlength)}}function B(e,i){e&1&&(n(0,"p",16),a(1,"El telefono es requerido"),t())}function J(e,i){e&1&&(n(0,"p",16),a(1,"El telefono debe tener un minimo de 10 digitos"),t())}function K(e,i){e&1&&(n(0,"p",16),a(1,"El telefono debe tener un maximo de 10 digitos"),t())}function O(e,i){e&1&&(n(0,"p",16),a(1,"El telefono solo debe contener numeros"),t())}function P(e,i){if(e&1&&(n(0,"div"),d(1,B,2,0,"p",15)(2,J,2,0,"p",15)(3,K,2,0,"p",15)(4,O,2,0,"p",15),t()),e&2){let l=u();r(),m("ngIf",l.createForm.controls.telefono.errors.required),r(),m("ngIf",l.createForm.controls.telefono.errors.minlength),r(),m("ngIf",l.createForm.controls.telefono.errors.maxlength),r(),m("ngIf",l.createForm.controls.telefono.errors.pattern)}}function Q(e,i){if(e&1&&(n(0,"div")(1,"p",17),a(2),t()()),e&2){let l=u();r(2),_(l.succesMessages.message)}}function W(e,i){if(e&1&&(n(0,"div")(1,"p",16),a(2),t()()),e&2){let l=u();r(2),_(l.backendErrors.message)}}var me=(()=>{let i=class i{constructor(o,p,c){this.hospitalService=o,this.router=p,this.route=c,this.backendErrors={},this.succesMessages={},this.createForm=new T({nombre:new x("",[s.required,s.minLength(3),s.maxLength(100),s.pattern("^[a-zA-Z ]*$")]),direccion:new x("",[s.required,s.minLength(3),s.maxLength(100)]),telefono:new x("",[s.required,s.minLength(10),s.maxLength(10),s.pattern("^[0-9]*$")])})}ngAfterContentInit(){this.hospitalService.getHospitalbyId(Number(this.route.snapshot.paramMap.get("id"))).subscribe({next:o=>{console.log(o),this.createForm.setValue({nombre:o.data.nombre,direccion:o.data.direccion,telefono:o.data.telefono})},error:o=>{console.log(o)}})}updateHospital(){this.hospitalService.updateHospital(this.createForm.value,Number(this.route.snapshot.paramMap.get("id"))).subscribe({next:o=>{console.log(o),this.succesMessages.message="Hospital actualizado exitosamente",setTimeout(()=>{this.backendErrors={},this.router.navigate(["/hospitales"])},3e3)},error:o=>{this.backendErrors=o.error,console.log(o),o.error&&o.error.Errors&&(o.error.Errors.nombre?this.backendErrors.nombre="El nombre ya est\xE1 en uso":o.error.Errors.direccion?this.backendErrors.direccion="La direcci\xF3n ya est\xE1 en uso":o.error.Errors.telefono?this.backendErrors.telefono="El tel\xE9fono ya est\xE1 en uso":(this.backendErrors.nombre="",this.backendErrors.direccion="",this.backendErrors.telefono="",this.backendErrors={message:"Error al crear el hospital"}))}})}};i.\u0275fac=function(p){return new(p||i)(g(M),g(S),g(C))},i.\u0275cmp=v({type:i,selectors:[["app-update"]],standalone:!0,features:[h],decls:31,vars:6,consts:[[1,"flex","mt-10","flex-col","justify-center"],[1,"sm:mx-auto","sm:w-1/2","sm:max-w-2xl"],["src","assets/logo.jpeg","alt","Logo",1,"mx-auto","h-32","w-auto"],[1,"mt-3","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-violet-950"],[1,"sm:mx-auto","sm:w-1/3","sm:max-w-2xl"],[1,"space-y-2",3,"formGroup"],["for","name",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","nombre","name","name","type","text","autocomplete","nombre","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["for","address",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","direccion","name","address","type","text","autocomplete","direccion","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","phone",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","telefono","name","phone","type","tel","autocomplete","telefono","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-fuchsia-500","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-cyan-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["class","text-red-500 font-medium text-sm",4,"ngIf"],[1,"text-red-500","font-medium","text-sm"],[1,"text-green-500","font-medium","text-sm"]],template:function(p,c){p&1&&(f(0,"app-toolbar"),n(1,"div",0)(2,"div",1),f(3,"img",2),n(4,"h2",3),a(5,"Actualizar Hospital"),t()(),n(6,"div",4)(7,"form",5)(8,"div")(9,"label",6),a(10,"Nombre"),t(),n(11,"div",7),f(12,"input",8),t(),d(13,R,5,4,"div",9),t(),n(14,"div")(15,"label",10),a(16,"Direcci\xF3n"),t(),n(17,"div",7),f(18,"input",11),t(),d(19,Z,4,3,"div",9),t(),n(20,"div")(21,"label",12),a(22,"Tel\xE9fono"),t(),n(23,"div",7),f(24,"input",13),t(),d(25,P,5,4,"div",9),t(),d(26,Q,3,1,"div",9)(27,W,3,1,"div",9),n(28,"div")(29,"button",14),b("click",function(){return c.updateHospital()}),a(30,"Actualizar"),t()()()()()),p&2&&(r(7),m("formGroup",c.createForm),r(6),m("ngIf",c.createForm.controls.nombre.errors),r(6),m("ngIf",c.createForm.controls.direccion.errors),r(6),m("ngIf",c.createForm.controls.telefono.errors),r(),m("ngIf",c.succesMessages.message),r(),m("ngIf",c.backendErrors.message))},dependencies:[H,y,E,N,w,F,I,k,L,U,q]});let e=i;return e})();export{me as UpdateComponent};
