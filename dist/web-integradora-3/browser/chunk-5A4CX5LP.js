import{a as j}from"./chunk-PVJ7IEF6.js";import{a as N}from"./chunk-IDCAQ4EK.js";import"./chunk-2PNSS65N.js";import{a as E,b as s,c as F,d as I,e as w,f as v,g as T,j as k,k as L,p as q,r as M}from"./chunk-BZHRZEYF.js";import"./chunk-67ANC6KW.js";import{j as S}from"./chunk-6X3NTM2I.js";import{Ab as f,Ib as o,Jb as x,Qb as C,Sa as i,Ta as g,ga as _,gb as p,ib as a,kc as h,lc as y,qb as n,rb as t,sb as u,yb as b}from"./chunk-QODOQ2ZI.js";function G(e,r){e&1&&(n(0,"p",14),o(1,"El nombre es requerido"),t())}function A(e,r){e&1&&(n(0,"p",14),o(1,"El nombre debe contener al menos 3 caracteres"),t())}function D(e,r){e&1&&(n(0,"p",14),o(1,"El nombre debe contener maximo 50 caracteres"),t())}function R(e,r){e&1&&(n(0,"p",14),o(1,"El nombre solo debe contener letras y espacios"),t())}function V(e,r){if(e&1&&(n(0,"div"),p(1,G,2,0,"p",13)(2,A,2,0,"p",13)(3,D,2,0,"p",13)(4,R,2,0,"p",13),t()),e&2){let m=f();i(),a("ngIf",m.Form.controls.nombre.errors.required),i(),a("ngIf",m.Form.controls.nombre.errors.minlength),i(),a("ngIf",m.Form.controls.nombre.errors.maxlength),i(),a("ngIf",m.Form.controls.nombre.errors.pattern)}}function z(e,r){e&1&&(n(0,"p",14),o(1,"La unidad es requerida"),t())}function Z(e,r){e&1&&(n(0,"p",14),o(1,"La unidad debe contener al menos 1 caracter"),t())}function $(e,r){e&1&&(n(0,"p",14),o(1,"La unidad debe contener maximo 20 caracteres"),t())}function U(e,r){e&1&&(n(0,"p",14),o(1,"La unidad solo debe contener letras y espacios"),t())}function B(e,r){if(e&1&&(n(0,"div"),p(1,z,2,0,"p",13)(2,Z,2,0,"p",13)(3,$,2,0,"p",13)(4,U,2,0,"p",13),t()),e&2){let m=f();i(),a("ngIf",m.Form.controls.unidad.errors.required),i(),a("ngIf",m.Form.controls.unidad.errors.minlength),i(),a("ngIf",m.Form.controls.unidad.errors.maxlength),i(),a("ngIf",m.Form.controls.unidad.errors.pattern)}}function H(e,r){if(e&1&&(n(0,"div")(1,"p",15),o(2),t()()),e&2){let m=f();i(2),x(m.succesMessages.message)}}function J(e,r){if(e&1&&(n(0,"div")(1,"p",14),o(2),t()()),e&2){let m=f();i(2),x(m.backendErrors.message)}}var ne=(()=>{let r=class r{ngAfterContentInit(){}constructor(d,c){this.sensorService=d,this.router=c,this.backendErrors={},this.succesMessages={},this.Form=new w({nombre:new v("",[s.required,s.minLength(3),s.maxLength(50),s.pattern("^[a-zA-Z ]*$")]),unidad:new v("",[s.required,s.minLength(1),s.maxLength(20),s.pattern("^[a-zA-Z ]*$")])})}createSensor(){this.sensorService.createSensor(this.Form.value).subscribe({next:d=>{console.log(d),this.succesMessages.message="Sensor creado con \xE9xito",this.backendErrors.message="",setTimeout(()=>{this.backendErrors.message="",this.router.navigate(["/sensores"])},2e3)},error:d=>{console.log(d),this.succesMessages.message="",this.backendErrors.message="Error para crear al sensor, intente mas tarde"}})}};r.\u0275fac=function(c){return new(c||r)(g(N),g(S))},r.\u0275cmp=_({type:r,selectors:[["app-create"]],standalone:!0,features:[C],decls:25,vars:5,consts:[[1,"flex","mt-10","flex-col","justify-center"],[1,"sm:mx-auto","sm:w-1/2","sm:max-w-2xl"],["src","assets/logo.jpeg","alt","Logo",1,"mx-auto","h-32","w-auto"],[1,"mt-3","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-violet-950"],[1,"sm:mx-auto","sm:w-1/3","sm:max-w-2xl"],[1,"space-y-2",3,"formGroup"],["for","name",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","nombre","name","name","type","text","autocomplete","nombre","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["for","unit",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","unidad","name","unit","type","text","autocomplete","unidad","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","mb-10","mt-5","w-full","justify-center","rounded-md","bg-fuchsia-500","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-cyan-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["class","text-red-500 font-medium text-sm",4,"ngIf"],[1,"text-red-500","font-medium","text-sm"],[1,"text-green-500","font-medium","text-sm"]],template:function(c,l){c&1&&(u(0,"app-toolbar"),n(1,"div",0)(2,"div",1),u(3,"img",2),n(4,"h2",3),o(5,"Crear Sensor"),t()(),n(6,"div",4)(7,"form",5)(8,"div")(9,"label",6),o(10,"Nombre"),t(),n(11,"div",7),u(12,"input",8),t(),p(13,V,5,4,"div",9),t(),n(14,"div")(15,"label",10),o(16,"Unidad"),t(),n(17,"div",7),u(18,"input",11),t(),p(19,B,5,4,"div",9),t(),p(20,H,3,1,"div",9)(21,J,3,1,"div",9),n(22,"div")(23,"button",12),b("click",function(){return l.createSensor()}),o(24,"Crear Sensor"),t()()()()()),c&2&&(i(7),a("formGroup",l.Form),i(6),a("ngIf",l.Form.controls.nombre.errors&&l.Form.controls.nombre.touched),i(6),a("ngIf",l.Form.controls.unidad.errors&&l.Form.controls.unidad.touched),i(),a("ngIf",l.succesMessages.message),i(),a("ngIf",l.backendErrors.message))},dependencies:[j,M,T,E,F,I,q,k,L,y,h]});let e=r;return e})();export{ne as CreateComponent};
