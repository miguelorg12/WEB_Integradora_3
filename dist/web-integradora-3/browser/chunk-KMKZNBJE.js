import{a as M}from"./chunk-LL344L2T.js";import{a as j}from"./chunk-N7WXRUGI.js";import"./chunk-VZAEZB6E.js";import{a as F,b as l,c as I,d as w,e as T,f as v,g as k,i as U,j as N,o as L,q}from"./chunk-FJBITYPR.js";import"./chunk-67ANC6KW.js";import{h as E,j as C}from"./chunk-6X3NTM2I.js";import{Ab as f,Ib as r,Jb as x,Qb as h,Sa as o,Ta as g,ga as _,gb as p,ib as a,kc as y,lc as S,qb as n,rb as t,sb as u,yb as b}from"./chunk-QODOQ2ZI.js";function A(e,i){e&1&&(n(0,"p",14),r(1,"El nombre es requerido"),t())}function z(e,i){e&1&&(n(0,"p",14),r(1,"El nombre debe contener al menos 3 caracteres"),t())}function G(e,i){e&1&&(n(0,"p",14),r(1,"El nombre debe contener maximo 50 caracteres"),t())}function R(e,i){e&1&&(n(0,"p",14),r(1,"El nombre solo debe contener letras y espacios"),t())}function V(e,i){if(e&1&&(n(0,"div"),p(1,A,2,0,"p",13)(2,z,2,0,"p",13)(3,G,2,0,"p",13)(4,R,2,0,"p",13),t()),e&2){let m=f();o(),a("ngIf",m.Form.controls.nombre.errors.required),o(),a("ngIf",m.Form.controls.nombre.errors.minlength),o(),a("ngIf",m.Form.controls.nombre.errors.maxlength),o(),a("ngIf",m.Form.controls.nombre.errors.pattern)}}function D(e,i){e&1&&(n(0,"p",14),r(1,"La unidad es requerida"),t())}function Z(e,i){e&1&&(n(0,"p",14),r(1,"La unidad debe contener al menos 1 caracter"),t())}function $(e,i){e&1&&(n(0,"p",14),r(1,"La unidad debe contener maximo 20 caracteres"),t())}function B(e,i){e&1&&(n(0,"p",14),r(1,"La unidad solo debe contener letras y espacios"),t())}function H(e,i){if(e&1&&(n(0,"div"),p(1,D,2,0,"p",13)(2,Z,2,0,"p",13)(3,$,2,0,"p",13)(4,B,2,0,"p",13),t()),e&2){let m=f();o(),a("ngIf",m.Form.controls.unidad.errors.required),o(),a("ngIf",m.Form.controls.unidad.errors.minlength),o(),a("ngIf",m.Form.controls.unidad.errors.maxlength),o(),a("ngIf",m.Form.controls.unidad.errors.pattern)}}function J(e,i){if(e&1&&(n(0,"div")(1,"p",15),r(2),t()()),e&2){let m=f();o(2),x(m.succesMessages.message)}}function K(e,i){if(e&1&&(n(0,"div")(1,"p",14),r(2),t()()),e&2){let m=f();o(2),x(m.backendErrors.message)}}var ie=(()=>{let i=class i{constructor(s,c,d){this.sensorService=s,this.router=c,this.route=d,this.backendErrors={},this.succesMessages={},this.Form=new T({nombre:new v("",[l.required,l.minLength(3),l.maxLength(50),l.pattern("^[a-zA-Z ]*$")]),unidad:new v("",[l.required,l.minLength(1),l.maxLength(20)])})}ngAfterContentInit(){this.sensorService.getSensorbyId(Number(this.route.snapshot.params.id)).subscribe({next:s=>{console.log(s),this.Form.patchValue(s.data)},error:s=>{console.log(s)}})}updateSensor(){this.sensorService.updateSensor(this.Form.value,Number(this.route.snapshot.params.id)).subscribe({next:s=>{console.log(s),setTimeout(()=>{this.succesMessages.message="Sensor actualizado con \xE9xito",this.backendErrors.message="",this.router.navigate(["/sensores"])},2e3)},error:s=>{console.log(s),this.succesMessages.message="",this.backendErrors.message="Error para actualizar al sensor, intente mas tarde"}})}};i.\u0275fac=function(c){return new(c||i)(g(M),g(C),g(E))},i.\u0275cmp=_({type:i,selectors:[["app-update"]],standalone:!0,features:[h],decls:25,vars:5,consts:[[1,"flex","mt-10","flex-col","justify-center"],[1,"sm:mx-auto","sm:w-1/2","sm:max-w-2xl"],["src","assets/logo.jpeg","alt","Logo",1,"mx-auto","h-32","w-auto"],[1,"mt-3","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-violet-950"],[1,"sm:mx-auto","sm:w-1/3","sm:max-w-2xl"],[1,"space-y-2",3,"formGroup"],["for","name",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","nombre","name","name","type","text","autocomplete","nombre","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["for","unit",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","unidad","name","unit","type","text","autocomplete","unidad","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","mb-10","mt-5","w-full","justify-center","rounded-md","bg-fuchsia-500","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-cyan-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["class","text-red-500 font-medium text-sm",4,"ngIf"],[1,"text-red-500","font-medium","text-sm"],[1,"text-green-500","font-medium","text-sm"]],template:function(c,d){c&1&&(u(0,"app-toolbar"),n(1,"div",0)(2,"div",1),u(3,"img",2),n(4,"h2",3),r(5,"Actualizar Sensor"),t()(),n(6,"div",4)(7,"form",5)(8,"div")(9,"label",6),r(10,"Nombre"),t(),n(11,"div",7),u(12,"input",8),t(),p(13,V,5,4,"div",9),t(),n(14,"div")(15,"label",10),r(16,"Unidad"),t(),n(17,"div",7),u(18,"input",11),t(),p(19,H,5,4,"div",9),t(),p(20,J,3,1,"div",9)(21,K,3,1,"div",9),n(22,"div")(23,"button",12),b("click",function(){return d.updateSensor()}),r(24,"Actualizar Sensor"),t()()()()()),c&2&&(o(7),a("formGroup",d.Form),o(6),a("ngIf",d.Form.controls.nombre.errors&&d.Form.controls.nombre.touched),o(6),a("ngIf",d.Form.controls.unidad.errors&&d.Form.controls.unidad.touched),o(),a("ngIf",d.succesMessages.message),o(),a("ngIf",d.backendErrors.message))},dependencies:[j,q,k,F,I,w,L,U,N,S,y]});let e=i;return e})();export{ie as UpdateComponent};
