import{a as H}from"./chunk-PVJ7IEF6.js";import{a as M}from"./chunk-NHY6G2KS.js";import"./chunk-2PNSS65N.js";import{a as S,b as l,c as F,d as k,e as I,f as g,g as T,j as w,k as q,p as L,r as N}from"./chunk-BZHRZEYF.js";import"./chunk-67ANC6KW.js";import{j as y}from"./chunk-6X3NTM2I.js";import{Ab as u,Ib as i,Jb as _,Qb as h,Sa as o,Ta as x,ga as v,gb as d,ib as a,kc as E,lc as C,qb as r,rb as t,sb as f,yb as b}from"./chunk-QODOQ2ZI.js";function R(e,n){e&1&&(r(0,"p",16),i(1,"El nombre es requerido"),t())}function j(e,n){e&1&&(r(0,"p",16),i(1,"El nombre debe contener al menos 3 caracteres"),t())}function D(e,n){e&1&&(r(0,"p",16),i(1,"El nombre debe contener maximo 100 caracteres"),t())}function G(e,n){e&1&&(r(0,"p",16),i(1,"El nombre solo debe contener letras y espacios"),t())}function V(e,n){if(e&1&&(r(0,"div"),d(1,R,2,0,"p",15)(2,j,2,0,"p",15)(3,D,2,0,"p",15)(4,G,2,0,"p",15),t()),e&2){let m=u();o(),a("ngIf",m.createForm.controls.nombre.errors.required),o(),a("ngIf",m.createForm.controls.nombre.errors.minlength),o(),a("ngIf",m.createForm.controls.nombre.errors.maxlength),o(),a("ngIf",m.createForm.controls.nombre.errors.pattern)}}function A(e,n){e&1&&(r(0,"p",16),i(1,"La direccion es requerida"),t())}function $(e,n){e&1&&(r(0,"p",16),i(1,"La direccion debe contener al menos 3 caracteres"),t())}function z(e,n){e&1&&(r(0,"p",16),i(1,"La direccion debe contener maximo 100 caracteres"),t())}function Z(e,n){if(e&1&&(r(0,"div"),d(1,A,2,0,"p",15)(2,$,2,0,"p",15)(3,z,2,0,"p",15),t()),e&2){let m=u();o(),a("ngIf",m.createForm.controls.direccion.errors.required),o(),a("ngIf",m.createForm.controls.direccion.errors.minlength),o(),a("ngIf",m.createForm.controls.direccion.errors.maxlength)}}function B(e,n){e&1&&(r(0,"p",16),i(1,"El telefono es requerido"),t())}function J(e,n){e&1&&(r(0,"p",16),i(1,"El telefono debe tener un minimo de 10 digitos"),t())}function K(e,n){e&1&&(r(0,"p",16),i(1,"El telefono debe tener un maximo de 10 digitos"),t())}function O(e,n){e&1&&(r(0,"p",16),i(1,"El telefono solo debe contener numeros"),t())}function P(e,n){if(e&1&&(r(0,"div"),d(1,B,2,0,"p",15)(2,J,2,0,"p",15)(3,K,2,0,"p",15)(4,O,2,0,"p",15),t()),e&2){let m=u();o(),a("ngIf",m.createForm.controls.telefono.errors.required),o(),a("ngIf",m.createForm.controls.telefono.errors.minlength),o(),a("ngIf",m.createForm.controls.telefono.errors.maxlength),o(),a("ngIf",m.createForm.controls.telefono.errors.pattern)}}function Q(e,n){if(e&1&&(r(0,"div")(1,"p",17),i(2),t()()),e&2){let m=u();o(2),_(m.succesMessages.message)}}function U(e,n){if(e&1&&(r(0,"div")(1,"p",16),i(2),t()()),e&2){let m=u();o(2),_(m.backendErrors.message)}}var ae=(()=>{let n=class n{constructor(s,p){this.hospitalService=s,this.router=p,this.backendErrors={},this.succesMessages={},this.createForm=new I({nombre:new g("",[l.required,l.minLength(3),l.maxLength(100),l.pattern("^[a-zA-Z ]*$")]),direccion:new g("",[l.required,l.minLength(3),l.maxLength(100)]),telefono:new g("",[l.required,l.minLength(10),l.maxLength(10),l.pattern("^[0-9]*$")])})}crearHospital(){this.createForm.valid&&(console.log(this.createForm.value),this.hospitalService.createHospital(this.createForm.value).subscribe({next:s=>{console.log(s),this.succesMessages.message="Hospital creado exitosamente",setTimeout(()=>{this.succesMessages.message="",this.backendErrors.nombre="",this.backendErrors.direccion="",this.backendErrors.telefono="",this.router.navigate(["/hospitales"])},3e3)},error:s=>{console.log(s),s.error&&s.error.Errors&&(s.error.Errors.nombre?this.backendErrors.nombre="El nombre ya est\xE1 en uso":s.error.Errors.direccion?this.backendErrors.direccion="La direcci\xF3n ya est\xE1 en uso":s.error.Errors.telefono?this.backendErrors.telefono="El tel\xE9fono ya est\xE1 en uso":(this.backendErrors.nombre="",this.backendErrors.direccion="",this.backendErrors.telefono="",this.backendErrors={message:"Error al crear el hospital"}))}}))}};n.\u0275fac=function(p){return new(p||n)(x(M),x(y))},n.\u0275cmp=v({type:n,selectors:[["app-create"]],standalone:!0,features:[h],decls:31,vars:6,consts:[[1,"flex","mt-10","flex-col","justify-center"],[1,"sm:mx-auto","sm:w-1/2","sm:max-w-2xl"],["src","assets/logo.jpeg","alt","Logo",1,"mx-auto","h-32","w-auto"],[1,"mt-3","text-center","text-2xl","font-bold","leading-9","tracking-tight","text-violet-950"],[1,"sm:mx-auto","sm:w-1/3","sm:max-w-2xl"],[1,"space-y-2",3,"formGroup"],["for","name",1,"block","text-sm","font-medium","leading-6","text-gray-900"],[1,"mt-2"],["formControlName","nombre","name","name","type","text","autocomplete","nombre","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],[4,"ngIf"],["for","address",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","direccion","name","address","type","text","autocomplete","direccion","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["for","phone",1,"block","text-sm","font-medium","leading-6","text-gray-900"],["formControlName","telefono","name","phone","type","tel","autocomplete","telefono","required","",1,"pl-3","block","w-full","rounded-md","border-0","py-1.5","text-gray-900","shadow-sm","ring-1","ring-inset","ring-gray-300","placeholder:text-gray-400","focus:ring-2","focus:ring-inset","focus:ring-indigo-600","sm:text-sm","sm:leading-6"],["type","submit",1,"flex","w-full","justify-center","rounded-md","bg-fuchsia-500","px-3","py-1.5","text-sm","font-semibold","leading-6","text-white","shadow-sm","hover:bg-cyan-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600",3,"click"],["class","text-red-500 font-medium text-sm",4,"ngIf"],[1,"text-red-500","font-medium","text-sm"],[1,"text-green-500","font-medium","text-sm"]],template:function(p,c){p&1&&(f(0,"app-toolbar"),r(1,"div",0)(2,"div",1),f(3,"img",2),r(4,"h2",3),i(5,"Registrar Hospital"),t()(),r(6,"div",4)(7,"form",5)(8,"div")(9,"label",6),i(10,"Nombre"),t(),r(11,"div",7),f(12,"input",8),t(),d(13,V,5,4,"div",9),t(),r(14,"div")(15,"label",10),i(16,"Direcci\xF3n"),t(),r(17,"div",7),f(18,"input",11),t(),d(19,Z,4,3,"div",9),t(),r(20,"div")(21,"label",12),i(22,"Tel\xE9fono"),t(),r(23,"div",7),f(24,"input",13),t(),d(25,P,5,4,"div",9),t(),d(26,Q,3,1,"div",9)(27,U,3,1,"div",9),r(28,"div")(29,"button",14),b("click",function(){return c.crearHospital()}),i(30,"Registrar Hospital"),t()()()()()),p&2&&(o(7),a("formGroup",c.createForm),o(6),a("ngIf",c.createForm.controls.nombre.errors&&c.createForm.controls.nombre.touched),o(6),a("ngIf",c.createForm.controls.direccion.errors&&c.createForm.controls.direccion.touched),o(6),a("ngIf",c.createForm.controls.telefono.errors&&c.createForm.controls.telefono.touched),o(),a("ngIf",c.succesMessages.message),o(),a("ngIf",c.backendErrors.message))},dependencies:[H,C,E,N,T,S,F,k,L,w,q]});let e=n;return e})();export{ae as CreateComponent};
